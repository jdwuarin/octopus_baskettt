
<div class="loading-basket" ng-show="loading">
	<div class="spinner"></div>
</div>

<div class="row">
	<div class="col-md-12 basket-bar">
		<div class="row">
			<div class="col-md-3 basket">
				<div ng-mouseover="showBasketDetails()">
					My basket <b>(&pound;{{basketTotal()}})</b>
					<basket></basket>
				</div>
			</div>
			<div class="col-md-6 search-bar">
				<form ng-submit="searchProducts()">
					<div class="search-bar-container ">
						<closesearch></closesearch>
						<input ng-model="queryTerm" type="text" class="form-control" placeholder="Search for products" ng-esc="clearSearch()">
					</div>
					<button class="btn-gray" type="submit">Search</button>
				</form>

			</div>
			<div class="col-md-3 transfer">
				<button class="btn-transfer" ng-click="transferBasket()">Transfer my basket</button>
				<button class="btn-gray" ng-click="resetSelection()" style="display:none;">Reset</button>
			</div>
		</div>

	</div>

</div>

<!-- <div class="row" ng-hide="loading"> -->
<div class="row">
	<div class="product-list-container">
		<div class="product-search-result col-md-6 col-md-offset-3">
			<li ng-repeat="product in search_result" class="search-item">
				<div class="row">
					<div class="col-md-3">
						<img ng-src="{{product.img}}" alt="">
					</div>
					<div class="col-md-7">
						<ul>
							<li class="product-name">{{ product.name }}</li>
							<li> &pound;{{ product.price | price}}</li>
						</ul>
					</div>
					<div class="col-md-2">
						<button class="btn-orange" ng-click="addProduct(product)">Add</button>
					</div>
				</div>
			</li>
		</div>
		<div class="row" ng-show="unsuccessfulTransfer">
			<div class="col-md-offset-4 col-md-4 unsuccessful-list">
				<div class="title">
					We couldn't transfer the following items
				</div>
				<div ng-repeat="product in tesco_response" class="unsuccessful-item">
					{{product.name}}
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-md-12">
				<div ng-repeat="product in products" class="product-container">
					<div class="product-box" ng-class="{'selected_product':selectedStatus}">
						<div class="product-img">
							<div class="product-remove">
								<i remove></i>
							</div>
							<img ng-src="{{product.img | imglarge}}" alt="">
						</div>

						<div class="product-desc">
							<p>{{product.name}}</p>

							<div class="product-price">
								&pound;{{getTotal(product.price, product.quantity)}}
							</div>

							<div class="quantity input-group">
								<span class="input-group-addon" ng-click="removeProduct(product)">-</span>
								<input type="text" class="form-control" ng-model="product.quantity" disabled="disabled">
								<span class="input-group-addon" ng-click="addProduct(product)">+</span>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
